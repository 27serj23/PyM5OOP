# 3.2
# –¢–µ–ø–µ—Ä—å —É –≤–æ–∏–Ω–æ–≤ –µ—Å—Ç—å 2 –º–µ—Ç–æ–¥–∞. –ó–∞—â–∏—â–∞—Ç—å—Å—è –∏ –∞—Ç–∞–∫–æ–≤–∞—Ç—å. –ï—Å—Ç—å –æ—á–∫–∏
# –∑–¥–æ—Ä–æ–≤—å—è, –æ—á–∫–∏ –±—Ä–æ–Ω–∏ –∏ –æ—á–∫–∏ –≤—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç–∏.
# –ù–∞ –∫–∞–∂–¥–æ–º —à–∞–≥–µ –∫–∞–∂–¥—ã–π –≤–æ–∏–Ω –∞—Ç–∞–∫—É–µ—Ç –∏–ª–∏ –∑–∞—â–∏—â–∞–µ—Ç—Å—è. –ö–æ–≥–¥–∞
# –≤–æ–∏–Ω –∞—Ç–∞–∫—É–µ—Ç, –æ–Ω —Ç–µ—Ä—è–µ—Ç 10 –æ—á–∫–æ–≤ –≤—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç–∏. –ö–æ–≥–¥–∞ –≤–æ–∏–Ω
# –∑–∞—â–∏—â–∞–µ—Ç—Å—è, –∞ –µ–≥–æ –∞—Ç–∞–∫—É—é—Ç, –æ–Ω —Ç–µ—Ä—è–µ—Ç –æ—á–∫–∏ –∑–¥–æ—Ä–æ–≤—å—è(random(0, 20))
# –∏ –æ—á–∫–∏ –±—Ä–æ–Ω–∏(random(0, 10)).–ö–æ–≥–¥–∞ –æ–±–∞ –≤–æ–∏–Ω–∞ –∞—Ç–∞–∫—É—é—Ç, –æ–Ω–∏ –æ–±–∞
# —Ç–µ—Ä—è—é—Ç –æ—á–∫–∏ –∑–¥–æ—Ä–æ–≤—å—è(random(10, 30)) –∏ –≤—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç–∏. –ï—Å–ª–∏ –æ–±–∞
# –≤–æ–∏–Ω–∞ –∑–∞—â–∏—â–∞—é—Ç—Å—è, –æ–Ω–∏ –Ω–µ —Ç–µ—Ä—è—é—Ç –æ—á–∫–æ–≤. –ö–æ–≥–¥–∞ –æ—á–∫–∏ –±—Ä–æ–Ω–∏ –∫–æ–Ω—á–∞—é—Ç—Å—è, –∑–∞—â–∏—â–∞—é—â–∏–π—Å—è –≤–æ–∏–Ω
# —Ç–µ—Ä—è–µ—Ç —Ç–æ–ª—å–∫–æ –æ—á–∫–∏ –∑–¥–æ—Ä–æ–≤—å—è(random(10, 30)). –ö–æ–≥–¥–∞ –æ—á–∫–∏ –≤—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç–∏
# –∑–∞–∫–æ–Ω—á–∞—Ç—Å—è, –≤–æ–∏–Ω –Ω–∞–Ω–æ—Å–∏—Ç –º–µ–Ω—å—à–µ —É—Ä–æ–Ω–∞ random(0, 10).
# –ù–∞ –∫–∞–∂–¥–æ–º —Ö–æ–¥–µ —Ä–µ—à–µ–Ω–∏–µ –∑–∞—â–∏—â–∞—Ç—å—Å—è –∏–ª–∏ –∞—Ç–∞–∫–æ–≤–∞—Ç—å –ø—Ä–∏–Ω–∏–º–∞–µ—Ç—Å—è —Å–ª—É—á–∞–π–Ω—ã–º –æ–±—Ä–∞–∑–æ–º.
# –ü—Ä–æ–∏–≥—Ä—ã–≤–∞–µ—Ç —Ç–æ—Ç –≤–æ–∏–Ω, —É –∫–æ—Ç–æ—Ä–æ–≥–æ –ø–µ—Ä–≤—ã–º –æ—Å—Ç–∞–ª–æ—Å—å 10 –µ–¥–∏–Ω–∏—Ü –∑–¥–æ—Ä–æ–≤—å—è.
# –¢–æ–≥–¥–∞(–∫–∞–∫ –≤ –ö–æ–ª–∏–∑–µ–µ) —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å–ø—Ä–∞—à–∏–≤–∞—é—Ç —É–±–∏—Ç—å –µ–≥–æ, –∏–ª–∏ (–Ω–µ—Ç.polliceverso)
# –ü—Ä–∏–º–µ—Ä: health = 100
# —É –æ–±–æ–∏—Ö
# health_1 - –∑–¥–æ—Ä–æ–≤—å–µ –ø–µ—Ä–≤–æ–≥–æ
# health_2 - –∑–¥–æ—Ä–æ–≤—å–µ –≤—Ç–æ—Ä–æ–≥–æ
# endurance = 100 - –≤—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç—å
# —É –æ–±–æ–∏—Ö
# end_1- –≤—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç—å –ø–µ—Ä–≤–æ–≥–æ
# end_2 - –≤—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç—å –≤—Ç–æ—Ä–æ–≥–æ
# armor = 100 - –±—Ä–æ–Ω—è
# —É –æ–±–æ–∏—Ö armor_1-–±—Ä–æ–Ω—è —É –ø–µ—Ä–≤–æ–≥–æ
# armor_2-–±—Ä–æ–Ω—è —É –≤—Ç–æ—Ä–æ–≥–æ
# 1: –∞—Ç–∞–∫–∞
# 2: –∞—Ç–∞–∫–∞
# health_1 -= random(10, 30)
# health_2 -= random(10, 30)
# end_1 -= 10
# end_2 -= 10
# 1: –∞—Ç–∞–∫–∞
# 2: –∑–∞—â–∏—Ç–∞
# end_1 -= 10
# health_2 -= random(0, 20)
# armor_2 -= random(0, 10)
import random
from abc import ABC, abstractmethod
from enum import Enum
from typing import Optional, Tuple, List


class ActionType(Enum):
    """
    –ü–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–µ —Ç–∏–ø–æ–≤ –¥–µ–π—Å—Ç–≤–∏–π, –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –≤–æ–∏–Ω–∞–º –≤ –±–æ—é.

    Attributes:
        ATTACK: –ê—Ç–∞–∫—É—é—â–µ–µ –¥–µ–π—Å—Ç–≤–∏–µ
        DEFEND: –ó–∞—â–∏—Ç–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ
    """
    ATTACK = "–∞—Ç–∞–∫–∞"
    DEFEND = "–∑–∞—â–∏—Ç–∞"


class Warrior(ABC):
    """
    –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –≤–æ–∏–Ω–æ–≤.

    –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –æ–±—â–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏ –±–∞–∑–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –¥–ª—è –≤—Å–µ—Ö –≤–æ–∏–Ω–æ–≤.

    Attributes:
        name (str): –ò–º—è –≤–æ–∏–Ω–∞
        max_health (int): –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∑–¥–æ—Ä–æ–≤—å—è
        max_endurance (int): –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç–∏
        max_armor (int): –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –±—Ä–æ–Ω–∏
        health (int): –¢–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∑–¥–æ—Ä–æ–≤—å—è
        endurance (int): –¢–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç–∏
        armor (int): –¢–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –±—Ä–æ–Ω–∏
    """

    def __init__(self, name: str, health: int = 100, endurance: int = 100, armor: int = 100):
        """
        –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –≤–æ–∏–Ω–∞ —Å –±–∞–∑–æ–≤—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏.

        Args:
            name: –ò–º—è –≤–æ–∏–Ω–∞
            health: –ù–∞—á–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∑–¥–æ—Ä–æ–≤—å—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 100)
            endurance: –ù–∞—á–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 100)
            armor: –ù–∞—á–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –±—Ä–æ–Ω–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 100)
        """
        self.name = name
        self.max_health = health
        self.max_endurance = endurance
        self.max_armor = armor
        self.health = health
        self.endurance = endurance
        self.armor = armor

    def is_alive(self) -> bool:
        """
        –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —Ä–∞–Ω–µ–Ω –ª–∏ –≤–æ–∏–Ω.

        Returns:
            True –µ—Å–ª–∏ –∑–¥–æ—Ä–æ–≤—å–µ –≤–æ–∏–Ω–∞ –±–æ–ª—å—à–µ 10, –∏–Ω–∞—á–µ False
        """
        return self.health > 10

    def restore(self) -> None:
        """–ü–æ–ª–Ω–æ—Å—Ç—å—é –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∑–¥–æ—Ä–æ–≤—å–µ, –≤—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç—å –∏ –±—Ä–æ–Ω—é –≤–æ–∏–Ω–∞."""
        self.health = self.max_health
        self.endurance = self.max_endurance
        self.armor = self.max_armor

    @abstractmethod
    def calculate_attack_power(self) -> int:
        """
        –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –º–µ—Ç–æ–¥ –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ —Å–∏–ª—ã –∞—Ç–∞–∫–∏.

        Returns:
            –¶–µ–ª–æ–µ —á–∏—Å–ª–æ, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–µ–µ —Å–∏–ª—É –∞—Ç–∞–∫–∏
        """
        pass

    @abstractmethod
    def calculate_defense(self) -> Tuple[int, int]:
        """
        –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –º–µ—Ç–æ–¥ –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ –∑–∞—â–∏—Ç—ã.

        Returns:
            –ö–æ—Ä—Ç–µ–∂ –∏–∑ –¥–≤—É—Ö —Ü–µ–ª—ã—Ö —á–∏—Å–µ–ª: (—É—Ä–æ–Ω –ø–æ –∑–¥–æ—Ä–æ–≤—å—é, —É—Ä–æ–Ω –ø–æ –±—Ä–æ–Ω–µ)
        """
        pass

    def take_damage(self, health_damage: int, armor_damage: int = 0) -> dict:
        """
        –ü—Ä–∏–º–µ–Ω—è–µ—Ç –ø–æ–ª—É—á–µ–Ω–Ω—ã–π —É—Ä–æ–Ω –∫ –≤–æ–∏–Ω—É.

        –£—Ä–æ–Ω —Å–Ω–∞—á–∞–ª–∞ –ø–æ–≥–ª–æ—â–∞–µ—Ç—Å—è –±—Ä–æ–Ω—ë–π, –æ—Å—Ç–∞—Ç–æ–∫ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –Ω–∞ –∑–¥–æ—Ä–æ–≤—å–µ.

        Args:
            health_damage: –£—Ä–æ–Ω, –Ω–∞–Ω–æ—Å–∏–º—ã–π –∑–¥–æ—Ä–æ–≤—å—é
            armor_damage: –£—Ä–æ–Ω, –Ω–∞–Ω–æ—Å–∏–º—ã–π –±—Ä–æ–Ω–µ

        Returns:
            –°–ª–æ–≤–∞—Ä—å —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è —É—Ä–æ–Ω–∞
        """
        # –°–Ω–∞—á–∞–ª–∞ —É—Ä–æ–Ω –ø–æ–≥–ª–æ—â–∞–µ—Ç—Å—è –±—Ä–æ–Ω—ë–π
        if self.armor > 0:
            self.armor -= armor_damage
            # –ï—Å–ª–∏ –±—Ä–æ–Ω—è —É–Ω–∏—á—Ç–æ–∂–µ–Ω–∞, –∏–∑–ª–∏—à–µ–∫ —É—Ä–æ–Ω–∞ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –Ω–∞ –∑–¥–æ—Ä–æ–≤—å–µ
            if self.armor < 0:
                health_damage += abs(self.armor)
                self.armor = 0

        # –ù–∞–Ω–æ—Å–∏–º –æ—Å—Ç–∞–≤—à–∏–π—Å—è —É—Ä–æ–Ω –ø–æ –∑–¥–æ—Ä–æ–≤—å—é
        self.health -= health_damage
        if self.health < 0:
            self.health = 0

        return {
            "health_damage": health_damage,
            "armor_damage": armor_damage
        }

    def __str__(self) -> str:
        """
        –°—Ç—Ä–æ–∫–æ–≤–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –≤–æ–∏–Ω–∞.

        Returns:
            –°—Ç—Ä–æ–∫–∞ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –≤–æ–∏–Ω–∞
        """
        return f"{self.name} [–ó: {self.health}, –í: {self.endurance}, –ë: {self.armor}]"


class BasicWarrior(Warrior):
    """
    –ö–ª–∞—Å—Å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ –≤–æ–∏–Ω–∞-–º–µ—á–Ω–∏–∫–∞.

    –°–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–ª–∞—Å—Å —Å–æ —Å—Ä–µ–¥–Ω–∏–º–∏ –ø–æ–∫–∞–∑–∞—Ç–µ–ª—è–º–∏ –≤–æ –≤—Å–µ—Ö —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞—Ö.
    """

    def __init__(self, name: str):
        """
        –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –º–µ—á–Ω–∏–∫–∞.

        Args:
            name: –ò–º—è –º–µ—á–Ω–∏–∫–∞
        """
        super().__init__(name, health=100, endurance=100, armor=100)

    def calculate_attack_power(self) -> int:
        """
        –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç —Å–∏–ª—É –∞—Ç–∞–∫–∏ –º–µ—á–Ω–∏–∫–∞.

        Returns:
            –°–ª—É—á–∞–π–Ω–æ–µ —á–∏—Å–ª–æ –æ—Ç 10 –¥–æ 30 –ø—Ä–∏ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–π –≤—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç–∏,
            –æ—Ç 0 –¥–æ 10 –ø—Ä–∏ –∏—Å—Ç–æ—â—ë–Ω–Ω–æ–π –≤—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç–∏
        """
        if self.endurance <= 0:
            return random.randint(0, 10)  # –°–ª–∞–±–∞—è –∞—Ç–∞–∫–∞ –ø—Ä–∏ –∏—Å—Ç–æ—â–µ–Ω–∏–∏
        return random.randint(10, 30)  # –ù–æ—Ä–º–∞–ª—å–Ω–∞—è –∞—Ç–∞–∫–∞

    def calculate_defense(self) -> Tuple[int, int]:
        """
        –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∑–∞—â–∏—Ç—ã.

        Returns:
            –ö–æ—Ä—Ç–µ–∂ (—É—Ä–æ–Ω –ø–æ –∑–¥–æ—Ä–æ–≤—å—é, —É—Ä–æ–Ω –ø–æ –±—Ä–æ–Ω–µ)
        """
        return random.randint(0, 20), random.randint(0, 10)


class Archer(Warrior):
    """
    –ö–ª–∞—Å—Å –ª—É—á–Ω–∏–∫–∞ - –≤–æ–∏–Ω–∞ —Å –≤—ã—Å–æ–∫–æ–π –º–æ–±–∏–ª—å–Ω–æ—Å—Ç—å—é –∏ —Å–∏–ª–æ–π –∞—Ç–∞–∫–∏, –Ω–æ –Ω–∏–∑–∫–æ–π –∑–∞—â–∏—Ç–æ–π.

    –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:
        - –í—ã—Å–æ–∫–∏–π —É—Ä–æ–Ω
        - –®–∞–Ω—Å —É–∫–ª–æ–Ω–µ–Ω–∏—è –æ—Ç –∞—Ç–∞–∫
        - –ù–∏–∑–∫–∏–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ –∑–¥–æ—Ä–æ–≤—å—è –∏ –±—Ä–æ–Ω–∏
    """

    def __init__(self, name: str):
        """
        –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –ª—É—á–Ω–∏–∫–∞.

        Args:
            name: –ò–º—è –ª—É—á–Ω–∏–∫–∞
        """
        super().__init__(name, health=80, endurance=120, armor=60)
        self.dodge_chance = 0.2  # 20% —à–∞–Ω—Å –ø–æ–ª–Ω–æ–≥–æ —É–∫–ª–æ–Ω–µ–Ω–∏—è –æ—Ç –∞—Ç–∞–∫–∏

    def calculate_attack_power(self) -> int:
        """
        –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç —Å–∏–ª—É –∞—Ç–∞–∫–∏ –ª—É—á–Ω–∏–∫–∞.

        Returns:
            –°–ª—É—á–∞–π–Ω–æ–µ —á–∏—Å–ª–æ –æ—Ç 15 –¥–æ 35 –ø—Ä–∏ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–π –≤—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç–∏,
            –æ—Ç 5 –¥–æ 15 –ø—Ä–∏ –∏—Å—Ç–æ—â—ë–Ω–Ω–æ–π –≤—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç–∏
        """
        if self.endurance <= 0:
            return random.randint(5, 15)  # –û—Å–ª–∞–±–ª–µ–Ω–Ω–∞—è –∞—Ç–∞–∫–∞
        return random.randint(15, 35)  # –ú–æ—â–Ω–∞—è –∞—Ç–∞–∫–∞

    def calculate_defense(self) -> Tuple[int, int]:
        """
        –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç –∑–∞—â–∏—Ç—É –ª—É—á–Ω–∏–∫–∞ —Å —É—á—ë—Ç–æ–º —à–∞–Ω—Å–∞ —É–∫–ª–æ–Ω–µ–Ω–∏—è.

        Returns:
            –ö–æ—Ä—Ç–µ–∂ (—É—Ä–æ–Ω –ø–æ –∑–¥–æ—Ä–æ–≤—å—é, —É—Ä–æ–Ω –ø–æ –±—Ä–æ–Ω–µ)
            –ü—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º —É–∫–ª–æ–Ω–µ–Ω–∏–∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç (0, 0)
        """
        if random.random() < self.dodge_chance:
            return 0, 0  # –ü–æ–ª–Ω–æ–µ —É–∫–ª–æ–Ω–µ–Ω–∏–µ –æ—Ç –∞—Ç–∞–∫–∏
        return random.randint(0, 15), random.randint(0, 5)


class Tank(Warrior):
    """
    –ö–ª–∞—Å—Å —Ç–∞–Ω–∫–∞ - –≤–æ–∏–Ω–∞ —Å –≤—ã—Å–æ–∫–æ–π –∑–∞—â–∏—Ç–æ–π –∏ –∑–¥–æ—Ä–æ–≤—å–µ–º, –Ω–æ –Ω–∏–∑–∫–æ–π —Å–∏–ª–æ–π –∞—Ç–∞–∫–∏.

    –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:
        - –í—ã—Å–æ–∫–∏–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ –∑–¥–æ—Ä–æ–≤—å—è –∏ –±—Ä–æ–Ω–∏
        - –ù–∏–∑–∫–∏–π —É—Ä–æ–Ω
        - –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞—è –∑–∞—â–∏—Ç–∞ –æ—Ç —É—Ä–æ–Ω–∞
    """

    def __init__(self, name: str):
        """
        –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Ç–∞–Ω–∫–∞.

        Args:
            name: –ò–º—è —Ç–∞–Ω–∫–∞
        """
        super().__init__(name, health=120, endurance=80, armor=150)

    def calculate_attack_power(self) -> int:
        """
        –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç —Å–∏–ª—É –∞—Ç–∞–∫–∏ —Ç–∞–Ω–∫–∞.

        Returns:
            –°–ª—É—á–∞–π–Ω–æ–µ —á–∏—Å–ª–æ –æ—Ç 8 –¥–æ 25 –ø—Ä–∏ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–π –≤—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç–∏,
            –æ—Ç 5 –¥–æ 15 –ø—Ä–∏ –∏—Å—Ç–æ—â—ë–Ω–Ω–æ–π –≤—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç–∏
        """
        if self.endurance <= 0:
            return random.randint(5, 15)  # –û—á–µ–Ω—å —Å–ª–∞–±–∞—è –∞—Ç–∞–∫–∞
        return random.randint(8, 25)  # –£–º–µ—Ä–µ–Ω–Ω–∞—è –∞—Ç–∞–∫–∞

    def calculate_defense(self) -> Tuple[int, int]:
        """
        –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç –∑–∞—â–∏—Ç—É —Ç–∞–Ω–∫–∞.

        –¢–∞–Ω–∫ –ø–æ–ª—É—á–∞–µ—Ç –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –º–µ–Ω—å—à–µ —É—Ä–æ–Ω–∞ –±–ª–∞–≥–æ–¥–∞—Ä—è –±—Ä–æ–Ω–µ.

        Returns:
            –ö–æ—Ä—Ç–µ–∂ (—É—Ä–æ–Ω –ø–æ –∑–¥–æ—Ä–æ–≤—å—é, —É—Ä–æ–Ω –ø–æ –±—Ä–æ–Ω–µ)
        """
        return random.randint(0, 10), random.randint(5, 15)


class Battle:
    """
    –ö–ª–∞—Å—Å, —É–ø—Ä–∞–≤–ª—è—é—â–∏–π —Ö–æ–¥–æ–º –±–æ—è –º–µ–∂–¥—É –¥–≤—É–º—è –≤–æ–∏–Ω–∞–º–∏.

    Attributes:
        warriors (List[Warrior]): –°–ø–∏—Å–æ–∫ —Å—Ä–∞–∂–∞—é—â–∏—Ö—Å—è –≤–æ–∏–Ω–æ–≤
        turn_count (int): –°—á–µ—Ç—á–∏–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö —Ö–æ–¥–æ–≤
    """

    def __init__(self, warrior1: Warrior, warrior2: Warrior):
        """
        –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –±–æ–π –º–µ–∂–¥—É –¥–≤—É–º—è –≤–æ–∏–Ω–∞–º–∏.

        Args:
            warrior1: –ü–µ—Ä–≤—ã–π —É—á–∞—Å—Ç–Ω–∏–∫ –±–æ—è
            warrior2: –í—Ç–æ—Ä–æ–π —É—á–∞—Å—Ç–Ω–∏–∫ –±–æ—è
        """
        self.warriors = [warrior1, warrior2]
        self.turn_count = 0

    def run(self) -> Optional[Warrior]:
        """
        –ó–∞–ø—É—Å–∫–∞–µ—Ç –∏ –ø—Ä–æ–≤–æ–¥–∏—Ç –±–æ–π –¥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è.

        Returns:
            –ü–æ–±–µ–¥–∏–≤—à–∏–π –≤–æ–∏–Ω –∏–ª–∏ None –≤ —Å–ª—É—á–∞–µ –Ω–∏—á—å–∏
        """
        print("‚öî –ù–∞—á–∞–ª–æ –±–æ—è! ‚öî")
        self._print_status()

        # –û—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª –±–æ—è
        while self._check_continue():
            self.turn_count += 1
            self._execute_turn()
            self._print_status()

        return self._declare_winner()

    def _check_continue(self) -> bool:
        """
        –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, –¥–æ–ª–∂–µ–Ω –ª–∏ –±–æ–π –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å—Å—è.

        Returns:
            True –µ—Å–ª–∏ –æ–±–∞ –≤–æ–∏–Ω–∞ –∂–∏–≤—ã, –∏–Ω–∞—á–µ False
        """
        return all(warrior.is_alive() for warrior in self.warriors)

    def _execute_turn(self) -> None:
        """
        –í—ã–ø–æ–ª–Ω—è–µ—Ç –æ–¥–∏–Ω —Ö–æ–¥ –±–æ—è.

        –û–±–∞ –≤–æ–∏–Ω–∞ —Å–ª—É—á–∞–π–Ω—ã–º –æ–±—Ä–∞–∑–æ–º –≤—ã–±–∏—Ä–∞—é—Ç –¥–µ–π—Å—Ç–≤–∏–µ (–∞—Ç–∞–∫–∞ –∏–ª–∏ –∑–∞—â–∏—Ç–∞),
        –∑–∞—Ç–µ–º –¥–µ–π—Å—Ç–≤–∏—è —Ä–∞–∑—Ä–µ—à–∞—é—Ç—Å—è –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –ª–æ–≥–∏–∫–æ–π –±–æ—è.
        """
        print(f"\nüîÑ –•–æ–¥ {self.turn_count}")

        # –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Å–ª—É—á–∞–π–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è –¥–ª—è –æ–±–æ–∏—Ö –≤–æ–∏–Ω–æ–≤
        action1_type = random.choice(list(ActionType))
        action2_type = random.choice(list(ActionType))

        # –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –¥–µ–π—Å—Ç–≤–∏—è—Ö
        action1_str = "–∞—Ç–∞–∫—É–µ—Ç" if action1_type == ActionType.ATTACK else "–∑–∞—â–∏—â–∞–µ—Ç—Å—è"
        action2_str = "–∞—Ç–∞–∫—É–µ—Ç" if action2_type == ActionType.ATTACK else "–∑–∞—â–∏—â–∞–µ—Ç—Å—è"
        print(f"{self.warriors[0].name} {action1_str}")
        print(f"{self.warriors[1].name} {action2_str}")

        # –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –¥–µ–π—Å—Ç–≤–∏—è
        self._resolve_actions(action1_type, action2_type)

    def _resolve_actions(self, action1_type: ActionType, action2_type: ActionType) -> None:
        """
        –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –¥–µ–π—Å—Ç–≤–∏—è –≤–æ–∏–Ω–æ–≤.

        Args:
            action1_type: –î–µ–π—Å—Ç–≤–∏–µ –ø–µ—Ä–≤–æ–≥–æ –≤–æ–∏–Ω–∞
            action2_type: –î–µ–π—Å—Ç–≤–∏–µ –≤—Ç–æ—Ä–æ–≥–æ –≤–æ–∏–Ω–∞
        """
        w1, w2 = self.warriors

        # –°—Ü–µ–Ω–∞—Ä–∏–π 1: –û–±–∞ –≤–æ–∏–Ω–∞ –∞—Ç–∞–∫—É—é—Ç
        if action1_type == ActionType.ATTACK and action2_type == ActionType.ATTACK:
            # –ü–µ—Ä–≤—ã–π –≤–æ–∏–Ω –∞—Ç–∞–∫—É–µ—Ç –≤—Ç–æ—Ä–æ–≥–æ
            if w1.endurance >= 10:
                w1.endurance -= 10
                damage1 = w1.calculate_attack_power()
                result1 = w2.take_damage(damage1)
                print(f"‚ö° {w1.name} –∞—Ç–∞–∫—É–µ—Ç {w2.name} –∏ –Ω–∞–Ω–æ—Å–∏—Ç {damage1} —É—Ä–æ–Ω–∞")
            else:
                print(f"üí§ {w1.name} —Å–ª–∏—à–∫–æ–º —É—Å—Ç–∞–ª –¥–ª—è –∞—Ç–∞–∫–∏")

            # –í—Ç–æ—Ä–æ–π –≤–æ–∏–Ω –∞—Ç–∞–∫—É–µ—Ç –ø–µ—Ä–≤–æ–≥–æ
            if w2.endurance >= 10:
                w2.endurance -= 10
                damage2 = w2.calculate_attack_power()
                result2 = w1.take_damage(damage2)
                print(f"‚ö° {w2.name} –∞—Ç–∞–∫—É–µ—Ç {w1.name} –∏ –Ω–∞–Ω–æ—Å–∏—Ç {damage2} —É—Ä–æ–Ω–∞")
            else:
                print(f"üí§ {w2.name} —Å–ª–∏—à–∫–æ–º —É—Å—Ç–∞–ª –¥–ª—è –∞—Ç–∞–∫–∏")

        # –î—Ä—É–≥–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –æ—Å—Ç–∞–Ω—É—Ç—Å—è —Ç–µ–º–∏ –∂–µ, —á—Ç–æ –∏ —Ä–∞–Ω—å—à–µ...

    def _print_status(self) -> None:
        """–í—ã–≤–æ–¥–∏—Ç —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –æ–±–æ–∏—Ö –≤–æ–∏–Ω–æ–≤."""
        print("\n" + "=" * 50)
        for warrior in self.warriors:
            status = "‚úÖ –ñ–∏–≤" if warrior.is_alive() else "ü§ï  –†–∞–Ω–µ–Ω"
            print(f"{warrior} {status}")
        print("=" * 50)

    def _declare_winner(self) -> Optional[Warrior]:
        """
        –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∏ –æ–±—ä—è–≤–ª—è–µ—Ç –ø–æ–±–µ–¥–∏—Ç–µ–ª—è –±–æ—è.

        Returns:
            –ü–æ–±–µ–¥–∏–≤—à–∏–π –≤–æ–∏–Ω –∏–ª–∏ None –≤ —Å–ª—É—á–∞–µ –Ω–∏—á—å–∏
        """
        alive_warriors = [w for w in self.warriors if w.is_alive()]

        if len(alive_warriors) == 1:
            winner = alive_warriors[0]
            print(f"\nüéâ –ü–æ–±–µ–¥–∏—Ç–µ–ª—å: {winner.name}!")
            loser = self.warriors[1] if winner == self.warriors[0] else self.warriors[0]
            self._ask_execution(loser)
            return winner
        else:
            print("\nü§ù –û–±–∞ –≤–æ–∏–Ω–∞ –ø–∞–ª–∏ –≤ –±–æ—é!")
            return None

    def _ask_execution(self, loser: Warrior) -> None:
        """
        –ü—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –∏–≥—Ä–æ–∫—É —Ä–µ—à–∏—Ç—å —Å—É–¥—å–±—É –ø—Ä–æ–∏–≥—Ä–∞–≤—à–µ–≥–æ –≤–æ–∏–Ω–∞.

        Args:
            loser: –ü—Ä–æ–∏–≥—Ä–∞–≤—à–∏–π –≤–æ–∏–Ω
        """
        choice = input(f"\n‚ö∞ –£–±–∏—Ç—å {loser.name}? (–¥–∞/–Ω–µ—Ç): ").strip().lower()
        if choice == "–¥–∞":
            print(f"üíÄ {loser.name} –∫–∞–∑–Ω–µ–Ω!")
            loser.health = 0
        else:
            print(f"‚ù§ {loser.name} –æ—Å—Ç–∞–≤–ª–µ–Ω –≤ –∂–∏–≤—ã—Ö.")


class WarriorFactory:
    """
    –°–æ–∑–¥–∞–Ω–∏—è –≤–æ–∏–Ω–æ–≤ —Å–æ —Å–ª—É—á–∞–π–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏.

    –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è –≤–æ–∏–Ω–æ–≤
    —Å–æ —Å–ª—É—á–∞–π–Ω—ã–º–∏ –∫–ª–∞—Å—Å–∞–º–∏ –∏ –∏–º–µ–Ω–∞–º–∏ –∏–∑ –≥—Ä–µ–∫–æ-—Ä–∏–º—Å–∫–æ–π –º–∏—Ñ–æ–ª–æ–≥–∏–∏.
    """

    # –°–ø–∏—Å–∫–∏ –∏–º–µ–Ω –∏–∑ –≥—Ä–µ—á–µ—Å–∫–æ–π –º–∏—Ñ–æ–ª–æ–≥–∏–∏ (–º—É–∂—Å–∫–∏–µ –∏ –∂–µ–Ω—Å–∫–∏–µ)
    GREEK_NAMES = [
        "–ê—Ö–∏–ª–ª–µ—Å", "–ì–µ–∫—Ç–æ—Ä", "–û–¥–∏—Å—Å–µ–π", "–ì–µ—Ä–∞–∫–ª", "–ü–µ—Ä—Å–µ–π",
        "–Ø—Å–æ–Ω", "–ê–≥–∞–º–µ–º–Ω–æ–Ω", "–ê—è–∫—Å",
        "–ê—Ñ—Ä–æ–¥–∏—Ç–∞", "–ê—Ñ–∏–Ω–∞", "–ê—Ä—Ç–µ–º–∏–¥–∞", "–ì–µ—Ä–∞", "–î–∏–º–µ—Ç—Ä–∞",
        "–ü–µ—Ä—Å–µ—Ñ–æ–Ω–∞", "–ê–º–∞–∑–æ–Ω–∫–∞", "–ê–Ω–¥—Ä–æ–º–µ–¥–∞", "–ö–∞—Å—Å–∞–Ω–¥—Ä–∞", "–ï–ª–µ–Ω–∞"
    ]

    # –°–ø–∏—Å–∫–∏ –∏–º–µ–Ω –∏–∑ —Ä–∏–º—Å–∫–æ–π –º–∏—Ñ–æ–ª–æ–≥–∏–∏ (–º—É–∂—Å–∫–∏–µ –∏ –∂–µ–Ω—Å–∫–∏–µ)
    ROMAN_NAMES = [
        "–†–æ–º—É–ª", "–†–µ–º", "–¶–µ–∑–∞—Ä—å", "–°—Ü–∏–ø–∏–æ–Ω", "–ì–∞–Ω–Ω–∏–±–∞–ª",
        "–°–ø–∞—Ä—Ç–∞–∫", "–¶–∏—Ü–µ—Ä–æ–Ω", "–ê–≤–≥—É—Å—Ç", "–ù–µ—Ä–æ–Ω", "–¢—Ä–æ—è–Ω",
        "–í–µ–Ω–µ—Ä–∞", "–î–∏–∞–Ω–∞", "–Æ–Ω–æ–Ω–∞", "–í–µ—Å—Ç–∞",
         "–§–ª–æ—Ä–∞", "–§–æ—Ä—Ç—É–Ω–∞", "–ê–≤—Ä–æ—Ä–∞", "–ü—Å–∏—Ö–µ—è"
    ]

    # –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–ª–∞—Å—Å—ã –≤–æ–∏–Ω–æ–≤
    WARRIOR_CLASSES = [BasicWarrior, Archer, Tank]

    @classmethod
    def create_random_warrior(cls) -> Warrior:
        """
        –°–æ–∑–¥–∞–µ—Ç –≤–æ–∏–Ω–∞ —Å–æ —Å–ª—É—á–∞–π–Ω—ã–º –∫–ª–∞—Å—Å–æ–º –∏ –∏–º–µ–Ω–µ–º.

        Returns:
            –ù–æ–≤—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä —Å–ª—É—á–∞–π–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞ –≤–æ–∏–Ω–∞ —Å–æ —Å–ª—É—á–∞–π–Ω—ã–º –∏–º–µ–Ω–µ–º
        """
        # –í—ã–±–∏—Ä–∞–µ–º —Å–ª—É—á–∞–π–Ω—ã–π –∫–ª–∞—Å—Å –≤–æ–∏–Ω–∞
        warrior_class = random.choice(cls.WARRIOR_CLASSES)

        # –í—ã–±–∏—Ä–∞–µ–º —Å–ª—É—á–∞–π–Ω—ã–π –ø—É–ª –∏–º–µ–Ω (–≥—Ä–µ—á–µ—Å–∫–∏–π –∏–ª–∏ —Ä–∏–º—Å–∫–∏–π)
        name_pool = random.choice([cls.GREEK_NAMES, cls.ROMAN_NAMES])
        name = random.choice(name_pool)

        return warrior_class(name)


class Game:
    """
    –û—Å–Ω–æ–≤–Ω–æ–π –∫–ª–∞—Å—Å –∏–≥—Ä—ã, —É–ø—Ä–∞–≤–ª—è—é—â–∏–π –∏–≥—Ä–æ–≤—ã–º –ø—Ä–æ—Ü–µ—Å—Å–æ–º.

    –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–æ—è–º–∏.
    """

    def __init__(self):
        """–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∏–≥—Ä—É —Å —Ñ–∞–±—Ä–∏–∫–æ–π –≤–æ–∏–Ω–æ–≤."""
        self.factory = WarriorFactory()

    def run(self) -> None:
        """
        –ó–∞–ø—É—Å–∫–∞–µ—Ç –≥–ª–∞–≤–Ω—ã–π –∏–≥—Ä–æ–≤–æ–π —Ü–∏–∫–ª.

        –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –º–µ–Ω—é –¥–ª—è –Ω–∞—á–∞–ª–∞ –Ω–æ–≤—ã—Ö –±–æ–µ–≤ –∏–ª–∏ –≤—ã—Ö–æ–¥–∞ –∏–∑ –∏–≥—Ä—ã.
        """
        print("üéÆ –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –∏–≥—Ä—É '–í–æ–∏–Ω—Å–∫–∞—è –¥–æ–±–ª–µ—Å—Ç—å'!")

        while True:
            print("\n" + "=" * 40)
            print("1. –ù–∞—á–∞—Ç—å –Ω–æ–≤—ã–π –±–æ–π")
            print("2. –í—ã–π—Ç–∏")

            choice = input("–í–∞—à –≤—ã–±–æ—Ä: ").strip()

            if choice == "1":
                self._start_battle()
            elif choice == "2":
                print("–î–æ —Å–≤–∏–¥–∞–Ω–∏—è!")
                break
            else:
                print("–ù–µ–≤–µ—Ä–Ω—ã–π –≤—ã–±–æ—Ä!")

    def _start_battle(self) -> None:
        """
        –ó–∞–ø—É—Å–∫–∞–µ—Ç –æ–¥–∏–Ω –±–æ–π –º–µ–∂–¥—É –¥–≤—É–º—è —Å–ª—É—á–∞–π–Ω–æ —Å–æ–∑–¥–∞–Ω–Ω—ã–º–∏ –≤–æ–∏–Ω–∞–º–∏.

        –°–æ–∑–¥–∞–µ—Ç –≤–æ–∏–Ω–æ–≤, –ø—Ä–æ–≤–æ–¥–∏—Ç –±–æ–π –∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã.
        """
        print("\n‚ö° –°–æ–∑–¥–∞–Ω–∏–µ –≤–æ–∏–Ω–æ–≤...")

        # –°–æ–∑–¥–∞–µ–º –¥–≤—É—Ö –≤–æ–∏–Ω–æ–≤
        warrior1 = self.factory.create_random_warrior()
        warrior2 = self.factory.create_random_warrior()

        # –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ–º —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å –∏–º–µ–Ω
        while warrior2.name == warrior1.name:
            warrior2 = self.factory.create_random_warrior()

        # –û—Ç–æ–±—Ä–∞–∂–∞–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –±–æ–π—Ü–∞—Ö
        warrior1_type = type(warrior1).__name__
        warrior2_type = type(warrior2).__name__
        print(f"‚öî –ù–∞ –∞—Ä–µ–Ω–µ: {warrior1.name} ({warrior1_type}) vs {warrior2.name} ({warrior2_type})")

        # –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤–æ–∏–Ω–æ–≤
        warrior1.restore()
        warrior2.restore()

        # –ó–∞–ø—É—Å–∫–∞–µ–º –±–æ–π
        battle = Battle(warrior1, warrior2)
        winner = battle.run()

        # –û—Ç–æ–±—Ä–∞–∂–∞–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –±–æ—è
        print(f"\nüìä –ë–æ–π –¥–ª–∏–ª—Å—è {battle.turn_count} —Ö–æ–¥–æ–≤")
        if winner:
            print(f"üèÜ –ü–æ–±–µ–¥–∏—Ç–µ–ª—å: {winner.name}!")


def main() -> None:
    """
    –ì–ª–∞–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –ø—Ä–æ–≥—Ä–∞–º–º—ã.

    –ó–∞–ø—É—Å–∫–∞–µ—Ç –∏–≥—Ä–æ–≤–æ–π –ø—Ä–æ—Ü–µ—Å—Å.
    """
    game = Game()
    game.run()


if __name__ == "__main__":
    main()





